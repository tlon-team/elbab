#+title: tlon change log
#+author: Pablo Stafforini
#+langauge: en

This document summarizes the changes pertaining to the ~tlon~ package.

* Version 1.6.2 on 2024-11-20
** AI/Language Model Integration (~tlon-ai.el~)
*** Math Translation Enhancements
- Added support for math conversion to LaTeX
- Created new functions ~tlon-ai-convert-math~ and ~tlon-ai-process-math~
- Improved math translation prompt formatting

*** Code Organization
- Added ~tlon-ai-maybe-edit-prompt~ helper function
- Improved context management by restoring original context after completion
- Added ability to change model directly from menu
- Revised functionality to handle language detection and model selection

** Core Functionality (~tlon-core.el~)
*** Language Handling Improvements
- Renamed and relocated ~tlon-ai-get-language-in-file~ to ~tlon-get-language-in-file~
- Added better error handling for language detection
- Added ~tlon-get-language-in-mode~ function for mode-specific language detection

** DeepL Integration (~tlon-deepl.el~)
- Modified error handling to only throw errors for missing glossaries in supported languages


* Version 1.6.1 on 2024-11-19
** AI and Language Models
*** tlon-ai
- Changed default summarization model from Gemini to Claude Haiku
- Added functionality to insert math translations as alt text values
- Fixed and improved math translation features

*** deepl
- Added prompting for both source and target languages in ~tlon-deepl-translate~
- Added support for glossary languages with new constant ~tlon-deepl-supported-glossary-languages~

** Git and Repository Management
*** tlon-repos
- Added ~tlon-unlock-uqbar-git-crypt~ function and menu item for unlocking git-crypt repos
- Updated ~tlon-forge-search~ functionality to be more efficient
- Fixed async behavior messaging for cloning repos

*** forge
- Revised Forge menu structure and search functionality
- Improved cross-repo search capabilities

** Infrastructure and Core
*** tlon-core
- Added new prompt argument to ~tlon-select-language~ for more flexible language selection

*** tlon-api
- Updated local URL from "https://uqbar.local.dev/" to "https://uqbar.local"

** Text Processing and Markdown
*** tlon-md
- Improved handling of non-valued attributes in tags
- Added functionality to work with tag attribute values
- Fixed tag editing functionality

*** tlon-tts
- Added XML special character escaping functionality for SSML
- Updated text processing pipeline order

* Version 1.5.15 on 2024-11-01
** Core Changes
*** tlon-core
- Enhanced language support by adding Arabic, Korean and Japanese translations for bare directories
- Fixed ~tlon-get-language~ to properly handle error cases when repo is not found
- Added new repo "uqbar-audio" with content type audio

*** tlon-tts
- Major change in audio file handling:
  - Removed server upload functionality
  - Now moves files to a dedicated audio repo instead
  - Simplified directory structure and file management
  - Breaking change: ~tlon-tts-upload-audio-file-to-server~ replaced by ~tlon-tts-move-file-to-audio-server~

** User Interface Improvements
*** tlon-ai 
- Added ability to edit prompts before sending to AI model with new ~tlon-ai-edit-prompt~ option
- Improved image description functionality:
  - Now uses gptel instead of chatgpt-shell for image handling
  - Enhanced multilingual support with prompts in multiple languages
- Menu reorganization:
  - Grouped related commands together
  - Added new general options section
  - Renamed toggle infixes for consistency

*** tlon-repos
- Enhanced forge search functionality:
  - Added feedback on search results
  - Fixed issues with repos containing zero issues
  - Added repository tracking management to menu
  - User interface improvements in search results display

** Bug Fixes and Performance Improvements
- Multiple improvements to menu organization and command naming
- Fixed forge search functionality to handle edge cases
- Added support for tracking repositories and managing issues

The most significant breaking changes are in the TTS module's file handling system and some command renames in the AI module. Users should particularly note the change from server uploads to local repo management for audio files.
* Version 1.3.0 on 2024-05-02
** tlon-ai
  - Added functions for handling language detection and translations.
  - Integrated AI functionality more deeply with Emacs event hooks.

** tlon-api
  - Adjusted API request functionalities to align with new backend changes.
  - Enhanced error handling and added user feedback for failed API calls.

** tlon-cleanup
  - Improved automatic cleanup operations during file save.
  - Added functions for specific cleanup tasks to improve modularity.

** tlon-core
  - Reorganized code to separate concerns more clearly.
  - Enhanced repository management functions, improving support for multi-repository setups.

** tlon-counterpart
  - Added error handling for counterpart file operations.
  - Refactored file comparison functionalities for clarity and performance.

** tlon-deepl
  - Introduced robust translation features using the DeepL API.
  - Implemented new interactive commands for accessing DeepL services directly from Emacs.

** tlon-dispatch
  - Reorganized dispatch menu for better navigation.
  - Added new dispatch commands for recently introduced features.

** tlon-docs
  - Updated documentation generation processes to include new functionalities.
  - Improved automated generation of info nodes and online documentation.

** tlon-glossary
  - Enhanced glossary management with new interactive functions.
  - Implemented a more robust storage mechanism for glossary items.

** tlon-import
  - Improved import functions for new file formats.
  - Added automation features to streamline the importing process.

** tlon-jobs
  - Added detailed job tracking and management functionalities.
  - Enhanced interaction with external job management tools.

** tlon-md
  - Extended Markdown support with new editing and preview features.
  - Enhanced performance and usability of Markdown operations.

** tlon-meet
  - Introduced new functionalities for managing meetings directly from Emacs.
  - Enhanced integration with calendar and scheduling tools.

** tlon-read
  - Implemented new features for reading text directly in Emacs using TTS.
  - Enhanced customization options for voice and reading speed.

** tlon-refs
  - Improved reference management with new linking and tracking features.
  - Added support for new citation formats and external databases.

** tlon-repos
  - Added functions for managing multiple repositories more effectively.
  - Enhanced repository setup and teardown processes.

** tlon-tex
  - Improved LaTeX integration with new tools for managing TeX projects.
  - Enhanced compilation and preview features for LaTeX documents.

** tlon-tts
  - Added comprehensive Text-to-Speech (TTS) support.
  - Implemented new TTS functionalities integrated with Emacs audio facilities.

** tlon-words
  - Enhanced word count functionalities with new interactive features.
  - Improved performance and accuracy of word counting.

** tlon-yaml
  - Improved YAML handling with new parsing and editing features.
  - Added support for new YAML standards and external tools.

** tlon
  - Major refactoring to improve performance and modularity.
  - Added new top-level commands and enhanced existing functionalities.
